<p>数组文字应始终优先于数组构造函数。</p>
<p>
  数组构造函数由于其参数的解释方式而容易出错。
  如果使用多个参数，则数组长度将等于参数个数。
  但是，使用单个参数将产生以下三种结果之一：
</p>
<ul>
  <li> 如果参数是一个数字并且是自然数，则长度将等于参数的值。 </li>
</ul>
<pre>
let arr = new Array(3);
</pre>
<ul>
  <li> 如果参数是一个数字，但不是自然数，则会抛出异常。 </li>
</ul>
<pre>
let arr = new Array(3.14);
</pre>
<ul>
  <li> 否则数组将有一个元素以参数作为它的值。 </li>
</ul>
<pre>
let arr = new Array("3");  // ["3"]
</pre>
<p>请注意，即使您设置了数组的长度，它也将为空。也就是说，它将包含您声明的元素数量，但它们不包含任何内容，因此不会对数组元素应用任何回调。</p>
<p>由于这些原因，如果有人更改代码以传递 1 个参数而不是 2 个参数，则数组可能没有预期的长度。为避免这些奇怪的情况，请始终使用更具可读性的数组文字初始化格式。</p>
<h2>不合规示例</h2>
<pre>
let myArray = new Array(x1, x2, x3);   // 不合规。生成 3 元素数组。
let emptyArray = new Array();          // 不合规。生成 0 元素数组。

let unstableArray = new Array(n);      // 不合规。结果可变。

let arr = new Array(3); // 不合规，长度为 3 的空数组
arr.foreach((x) =&gt; alert("Hello " + x)); //没有执行回调，因为 arr 中没有任何内容
let anotherArr = arr.map(() =&gt; 42); // anotherArr 也是空的，因为回调没有执行
</pre>
<h2>合规示例</h2>
<pre>
let myArray = [x1, x2, x3];
let emptyArray = [];

// 如果 n 是唯一的数组元素
let unstableArray = [n];
// 或者，如果 n 是数组长度（自 ES 2015 起）
let unstableArray = Array.from({length: n});

let arr = ["Elena", "Mike", "Sarah"];
arr.foreach((x) =&gt; alert("Hello " + x));
let anotherArr = arr.map(() =&gt; 42);  // anotherArr 现在在每个元素中包含 42 个
</pre>

