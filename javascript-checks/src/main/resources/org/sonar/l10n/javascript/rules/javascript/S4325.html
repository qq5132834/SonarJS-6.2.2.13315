<p>
  TypeScript 编译器会自动将变量转换为可以推断类型的条件内的相关类型（因为使用了 <code>typeof</code>、<code>instanceof</code> 等）。
  此编译器功能使转换和非空断言变得不必要。
</p>
<h2>不合规示例</h2>
<pre>
function getName(x?: string | UserName) {
  if (x) {
    console.log("Getting name for " + x!); // 不合规

    if (typeof x === "string")
      return (x as string); // 不合规
    else
      return (x as UserName).name; // 不合规
  }
  return "NoName";
}
</pre>
<h2>合规示例</h2>
<pre>
function getName(x?: string | UserName) {
  if (x) {
    console.log("Getting name for " + x);

    if (typeof x === "string")
      return x;
    else
      return x.name;
  }
  return "NoName";
}
</pre>

